<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- import bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <!-- import CSS -->
    <link rel="stylesheet" href="static/css/style.css">

    <title>OrderApp</title>
</head>

<body>
<!-- NAVBAR -->
<section id="orders-navbar-widget">
    <nav class="navbar navbar-expand-lg bg-dark container-fluid" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="{{ url_for('order_table') }}">OrderApp</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">

                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Add</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Update</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Delete</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown"
                           aria-expanded="false">Show Order Name</a>
                        <!-- adds order_name items from sql to drop-down menu -->
                        <ul class="dropdown-menu">
                            {% for show_order_name in show_names: %}
                            <li><a class="dropdown-item" href="#">{{ show_order_name }}</a></li>
                            {% endfor %}
                        </ul>
                        <!-- ################### -->
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown"
                           aria-expanded="false">Sort by</a>
                        <ul class="dropdown-menu">
                            <!-- adds header_names from sql to drop-down menu -->
                            {% for header_name in head: %}
                            <li><a class="dropdown-item" href="#">{{ header_name }}</a></li>
                            {% endfor %}
                            <!-- #################3 -->
                        </ul>
                    </li>
                </ul>
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-light" type="submit">Search</button>
                </form>
            </div>

        </div>
    </nav>
</section>

<!-- TABLE -->
<section id="order-table-widget">
    <div class="container">
        <div class="child">
            <!-- Bootstrap class 'table table-striped' adds stripes to table rows.
            'table-bordered border-white' adds borders to table-->
            <table class="table table-bordered border-dark-subtle">

                <thead class="table-dark ">
                <tr>
                    <!-- Create headers for table. -->
                    <th class="column-headers" scope="col"></th>

                    {% for header_name in head: %}
                    <th scope="col" class="headers {{ header_name }}-header-name">{{ header_name }}</th>
                    {% endfor %}
                    <!-- ##################### -->
                </tr>
                </thead>

                <!-- Create table rows with data from SQL by looping through data list -->
                <tbody>
                <!-- fetch data -->
                {% for rows_data in data: %}
                <tr>
                    <!-- Adds row number, starts from 1 -->
                    <th scope="row">{{ rows_data[0] + 1 }}</th>

                    <!-- Adds row data, except 'id' row -->
                    {% for row in rows_data[1][1:7]: %}
                    <td> {{ row }}</td>
                    {% endfor %}
                    <!-- add comments row-->
                    {% for row in rows_data[1][7:8]: %}
                    <td class="comments-row"> {{ row }}</td>
                    {% endfor %}
                    <!-- Adds updated row -->
                    {% for row in rows_data[1][8:9]: %}
                    <td> {{ row }}</td>
                    {% endfor %}

                </tr>
                {% endfor %}
                <!-- ##################### -->
                </tbody>

            </table>
        </div>
    </div>

</section>
<br>
<!-- import bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>

</body>
<!-- FOOTER -->
<footer class="copyright">
    <p>Â©{{ date }} OrderApp by Vytautas Matukynas</p>
</footer>
</html>